(this.webpackJsonpfront=this.webpackJsonpfront||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(17),o=a.n(l),s=(a(63),a(13)),c=a(7),i=a(11),u=a(15),m=a.n(u);a(81);var d=function(){var e=Object(n.useState)(0),t=Object(i.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){m.a.get("http://dry-river-74760.herokuapp.com/login",{withCredentials:!0}).then((function(e){console.log("loginGET:"+e.status),console.log(e),200===e.status?l(1):205===e.status&&l(0)})),console.log("loginState:"+a)}),[]),r.a.createElement("nav",{class:"menu"},r.a.createElement("div",{class:"menu_container"},r.a.createElement("div",{class:"menu_right"},0===a?r.a.createElement(s.b,{class:"link",to:"/login"},"Login"):r.a.createElement("button",{class:"btn btn-primary",onClick:function(e){m.a.get("http://dry-river-74760.herokuapp.com/logout",{withCredentials:!0}).then((function(e){console.log("logoutGET:"+e.status),console.log(e),200===e.status&&l(0)}))}},"log out")),r.a.createElement("div",{class:"menu_left"},r.a.createElement(s.b,{class:"link",to:"/"},"Home"))))},p=a(107),h=a(106);a(87);var g=function(){var e=Object(n.useState)([]),t=Object(i.a)(e,2),a=t[0],l=t[1];Object(n.useEffect)((function(){m.a.get("http://dry-river-74760.herokuapp.com/housings").then((function(e){console.log(e.data),console.log("housingsGET:"+e.status),l(e.data)}))}),[]);var o=a.map((function(e,t){return r.a.createElement(p.a,{lg:6,md:8,xs:24},r.a.createElement("img",{style:{width:"50%"},src:"http://bootstrapmade.com/demo/themes/EstateAgency/assets/img/slide-2.jpg",alt:"houseImage"}),r.a.createElement("p",null,e.name),r.a.createElement("p",null,e.address),r.a.createElement(s.b,{to:{pathname:"/detail",state:{objectId:e._id.$oid}}},"Go to see detail"))}));return r.a.createElement("div",{style:{width:"75%",margin:"3rem auto"}},r.a.createElement("div",{style:{textAlign:"center"}},r.a.createElement("h2",null,"  Find Your Future Home in iHomie ")),r.a.createElement("div",null,r.a.createElement(h.a,{gutter:[16,16]},o)),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("div",{style:{display:"flex",justifyContent:"center"}},r.a.createElement(s.b,{className:"link",to:"/upload"},"Upload New House")))},f=a(50),E=a(24),b=a.n(E),v=a(31),y=a(51),w=a(52),j=a(56),k=a(55),C=a(53),S=a(54),O=a(27),x=a(25),T=a(20),I=a(21),N=a(19),A=a(32),P=function(e){Object(j.a)(a,e);var t=Object(k.a)(a);function a(e){var n;return Object(y.a)(this,a),(n=t.call(this,e)).state={name:"",address:"",prevState:null,needLogin:!1,show:!1},n}return Object(w.a)(a,[{key:"componentDidMount",value:function(){var e=Object(v.a)(b.a.mark((function e(){var t;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://dry-river-74760.herokuapp.com/housings/".concat(this.props.objectId)).then((function(e){return e.json()}));case 2:t=e.sent,this.setState(t);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"handleInputChange",value:function(e){this.setState(Object(f.a)({},e.target.name,e.target.value))}},{key:"handleModify",value:function(e){this.setState({prevState:this.state,show:!0})}},{key:"handleSave",value:function(){var e=Object(v.a)(b.a.mark((function e(t){var a=this;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://dry-river-74760.herokuapp.com/".concat(this.props.objectId),{method:"PUT",headers:{"Content-Type":"application/json"},body:JSON.stringify(this.state)}).then((function(e){405==e.status?a.setState({needLogin:!0}):204==e.status?alert("success!!!"):alert("error!!!! ".concat(e.status))}));case 2:e.sent;case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"handleCancel",value:function(e){this.state.prevState.show=!1,this.setState(this.state.prevState)}},{key:"handleClose",value:function(e){this.setState({show:!1})}},{key:"render",value:function(){var e=this.state,t=e.name,a=e.address,n=e.needLogin,l=e.show;return n?r.a.createElement(c.a,{to:"/login"}):r.a.createElement(r.a.Fragment,null,r.a.createElement(I.a,{show:l,onHide:this.handleClose.bind(this)},r.a.createElement(I.a.Header,{closeButton:!0},r.a.createElement(I.a.Title,null,"Modify house information")),r.a.createElement(I.a.Body,null,r.a.createElement(N.a,{className:"mb-3"},r.a.createElement(N.a.Prepend,null,r.a.createElement(N.a.Text,{id:"basic-addon3"},"Name")),r.a.createElement(A.a,{name:"name","aria-describedby":"basic-addon3",value:t,onChange:this.handleInputChange.bind(this)})),r.a.createElement(N.a,{className:"mb-3"},r.a.createElement(N.a.Prepend,null,r.a.createElement(N.a.Text,{id:"basic-addon3"},"Address")),r.a.createElement(A.a,{name:"address","aria-describedby":"basic-addon3",value:a,onChange:this.handleInputChange.bind(this)}))),r.a.createElement(I.a.Footer,null,r.a.createElement(x.a,{variant:"primary",onClick:this.handleSave.bind(this)},"Save Changes"),r.a.createElement(x.a,{variant:"secondary",onClick:this.handleCancel.bind(this)},"Cancel"))),r.a.createElement(C.a,null,r.a.createElement(S.a,null,r.a.createElement(O.a,null),r.a.createElement(O.a,null,r.a.createElement(T.a,{style:{width:"50em",margin:"1em"}},r.a.createElement(T.a.Img,{variant:"top",src:"https://bootstrapmade.com/demo/themes/EstateAgency/assets/img/slide-2.jpg"}),r.a.createElement(T.a.Body,null,r.a.createElement(T.a.Title,null,t),r.a.createElement(T.a.Subtitle,{className:"mb-2 text-muted"},a),r.a.createElement(T.a.Text,null,"A property description is the written portion of a real estate listing that describes the real estate for sale or lease. Nowadays, most buyers begin their property search online. Therefore, real estate descriptions are your best chance to sway buyers and sellers."),r.a.createElement(x.a,{variant:"primary",onClick:this.handleModify.bind(this)},"Modify"),r.a.createElement(x.a,{variant:"primary",style:{margin:"1px"}},"Delete")))),r.a.createElement(O.a,null))))}}]),a}(r.a.Component);var H=Object(c.g)((function(e){return r.a.createElement(P,{objectId:e.location.state.objectId})}));var M=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),s=Object(i.a)(o,2),c=s[0],u=s[1];return r.a.createElement("div",null,r.a.createElement("div",{style:{width:"75%",margin:"3rem auto"}},r.a.createElement("form",null,r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"House Name"),r.a.createElement("input",{type:"text",onChange:function(e){l(e.currentTarget.value)},class:"form-control",id:"email-input",placeholder:"Input the house name"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Address"),r.a.createElement("input",{type:"text",onChange:function(e){u(e.currentTarget.value)},class:"form-control",id:"password-input",placeholder:"Input the address of the house"})),r.a.createElement("button",{type:"submit",class:"btn btn-primary",onClick:function(e){if(e.preventDefault(),!a||!c)return alert("Please fill in all fields!");console.log(a),console.log(c);var t={name:a,address:c};m.a.post("http://dry-river-74760.herokuapp.com/housings",t,{withCredentials:!0}).then((function(e){console.log(e.status),console.log(e),200===e.status?alert("Upload successfully!"):205===e.status&&alert("You need to sign in first!")}))}},"Submit"))))};var Y=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),c=Object(i.a)(o,2),u=c[0],d=c[1];return r.a.createElement("div",{style:{width:"75%",margin:"3rem auto"}},r.a.createElement("form",null,r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Email address"),r.a.createElement("input",{type:"email",onChange:function(e){l(e.currentTarget.value)},class:"form-control",id:"email-input",placeholder:"Input your email address here"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",onChange:function(e){d(e.currentTarget.value)},class:"form-control",id:"password-input",placeholder:"Input your password here"})),r.a.createElement("button",{type:"submit",class:"btn btn-primary",onClick:function(e){if(e.preventDefault(),!a||!u)return alert("Please fill in all fields!");console.log(a),console.log(u);var t={email:a,password:u};console.log(t),m.a.post("http://dry-river-74760.herokuapp.com/login",t,{withCredentials:!0}).then((function(e){console.log(e.status),console.log(e),200===e.status?alert("Login successfully!"):alert("You meet with an error!")})).catch((function(e){console.log(e.response),401===e.response.status?alert("You need to register for the account!"):400===e.response.status?alert("Wrong Password!"):402===e.response.status&&alert("Wrong Parameters!")}))}},"Submit")),r.a.createElement("small",{class:"text-muted"},"Need An Account? ",r.a.createElement(s.b,{className:"link",to:"/register"},"Sign Up Now")),r.a.createElement("button",{class:"btn btn-primary",onClick:function(e){m.a.get("http://dry-river-74760.herokuapp.com/login",{withCredentials:!0}).then((function(e){console.log(e.status),console.log(e)}))}},"test"))};var B=function(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(""),c=Object(i.a)(o,2),u=c[0],d=c[1],p=Object(n.useState)(""),h=Object(i.a)(p,2),g=h[0],f=h[1];return r.a.createElement("div",{style:{width:"75%",margin:"3rem auto"}},r.a.createElement("form",null,r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Username"),r.a.createElement("input",{type:"text",onChange:function(e){l(e.currentTarget.value)},class:"form-control",id:"email-input",placeholder:"Input username here"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Email address"),r.a.createElement("input",{type:"email",onChange:function(e){d(e.currentTarget.value)},class:"form-control",id:"email-input",placeholder:"Input your email address here"})),r.a.createElement("div",{class:"form-group"},r.a.createElement("label",null,"Password"),r.a.createElement("input",{type:"password",onChange:function(e){f(e.currentTarget.value)},class:"form-control",id:"password-input",placeholder:"Input your password here"})),r.a.createElement("button",{type:"submit",class:"btn btn-primary",onClick:function(e){if(e.preventDefault(),!a||!u||!g)return alert("Please fill in all fields!");console.log(a),console.log(u),console.log(g);var t={username:a,email:u,password:g};console.log(t),m.a.post("http://dry-river-74760.herokuapp.com/register",t).then((function(e){console.log(e.status),console.log(e),200===e.status?alert("Register successfully!"):alert("You meet with an error!")})).catch((function(e){console.log(e.response),401===e.response.status?alert("The email has been registered!"):402===e.response.status?alert("This username is unavailable!"):400===e.response.status?alert("You have loged in already!"):403===e.response.status&&alert("Parameter wrong!")}))}},"Submit")),r.a.createElement("small",{class:"text-muted"},"Already Have An Account? ",r.a.createElement(s.b,{className:"link",to:"/login"},"Sign In")))};var D=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(s.a,null,r.a.createElement(d,null),r.a.createElement(c.d,null,r.a.createElement(c.b,{exact:!0,path:"/",component:g}),r.a.createElement(c.b,{exact:!0,path:"/detail",component:H}),r.a.createElement(c.b,{exact:!0,path:"/upload",component:M}),r.a.createElement(c.b,{exact:!0,path:"/login",component:Y}),r.a.createElement(c.b,{exact:!0,path:"/register",component:B}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(101);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(D,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},58:function(e,t,a){e.exports=a(102)},63:function(e,t,a){},81:function(e,t,a){},87:function(e,t,a){}},[[58,1,2]]]);
//# sourceMappingURL=main.e46380b2.chunk.js.map